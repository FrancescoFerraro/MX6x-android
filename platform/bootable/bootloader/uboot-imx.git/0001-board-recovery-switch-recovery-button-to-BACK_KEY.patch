From 4a16140723f0eae20581b97fd2c988ac7f16d911 Mon Sep 17 00:00:00 2001
From: Ruslan Filipovich <ruslan.filipovich@promwad.com>
Date: Fri, 27 May 2016 12:13:43 +0300
Subject: [PATCH 1/3] board-recovery: switch recovery button to BACK_KEY

---
 board/variscite/mx6var_som/mx6var_som.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/board/variscite/mx6var_som/mx6var_som.c b/board/variscite/mx6var_som/mx6var_som.c
index fcdb593..ea2445d 100644
--- a/board/variscite/mx6var_som/mx6var_som.c
+++ b/board/variscite/mx6var_som/mx6var_som.c
@@ -1303,7 +1303,7 @@ void board_fastboot_setup(void)
 
 #ifdef CONFIG_ANDROID_RECOVERY
 
-#define GPIO_VOL_DN_KEY IMX_GPIO_NR(1, 5)
+#define GPIO_BACK_KEY IMX_GPIO_NR(5, 20)
 
 int check_recovery_cmd_file(void)
 {
@@ -1313,11 +1313,11 @@ int check_recovery_cmd_file(void)
 	recovery_mode = recovery_check_and_clean_flag();
 
 	/* Check Recovery Combo Button press or not. */
-	SETUP_IOMUX_PAD(PAD_GPIO_5__GPIO1_IO05 | MUX_PAD_CTRL(NO_PAD_CTRL));
+	SETUP_IOMUX_PAD(PAD_CSI0_DATA_EN__GPIO5_IO20 | MUX_PAD_CTRL(NO_PAD_CTRL));
 
-	gpio_direction_input(GPIO_VOL_DN_KEY);
+	gpio_direction_input(GPIO_BACK_KEY);
 
-	if (gpio_get_value(GPIO_VOL_DN_KEY) == 0) { /* VOL_DN key is low assert */
+	if (gpio_get_value(GPIO_BACK_KEY) == 0) { /* BACK key is low assert */
 		button_pressed = 1;
 		printf("Recovery key pressed\n");
 	}
-- 
2.1.4

